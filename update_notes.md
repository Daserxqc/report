# 行业趋势报告生成器 - 更新说明

## 主要更新

1. **修复错误**：
   - 修复了datetime导入错误
   - 解决了OpenAI模型不存在的问题（添加了DeepSeek专用模型配置）
   - 提高了程序的错误处理能力

2. **重构行业洞察报告**：
   - 完全重新设计了行业洞察部分的结构，按照元宇宙发展洞察报告的章节组织
   - 现在包含：产业概况与历史发展、政策与法规支持、市场规模与增长趋势、技术趋势与创新、行业案例与实践、PEST分析、未来展望与建议
   - 不再依赖于特定公司的信息

3. **增强离线功能**：
   - 即使没有API密钥，也能生成基本的报告内容
   - 添加了备用内容生成机制

4. **改进用户体验**：
   - 更新了菜单选项和描述
   - 对选项4（仅行业洞察）单独进行了优化处理
   - 更好的错误提示和状态信息

5. **DeepSeek API支持**：
   - 自动检测并适配DeepSeek API
   - 使用正确的模型名称("deepseek-chat")
   - 中文友好的错误提示和诊断信息

## 使用方法

1. **安装依赖**：
   ```
   pip install -r requirements.txt
   ```

2. **设置API密钥**（可选，但推荐）：
   在`.env`文件中设置以下密钥：
   ```
   OPENAI_API_KEY=你的OpenAI密钥
   TAVILY_API_KEY=你的Tavily密钥
   NEWSAPI_KEY=你的NewsAPI密钥
   ```

   **如果使用DeepSeek API**，请设置：
   ```
   OPENAI_API_KEY=你的DeepSeek密钥（如sk-c0eda0ae805c4dceaca2d148b7fc8817）
   OPENAI_BASE_URL=https://api.deepseek.com/v1
   ```

3. **运行程序**：
   ```
   python main.py
   ```

4. **选择选项4**，生成行业洞察报告。

5. **即使没有API密钥**，程序也会生成基本的报告结构，帮助您开始写作。

## DeepSeek API配置说明

DeepSeek API与OpenAI API兼容，但有以下区别：

1. **模型名称不同**：
   - DeepSeek使用`deepseek-chat`模型，而非OpenAI的`gpt-4`等
   - 我们的程序会自动检测并使用正确的模型名称

2. **配置方法**：
   - 在`.env`文件中设置`OPENAI_API_KEY`为您的DeepSeek密钥
   - 设置`OPENAI_BASE_URL=https://api.deepseek.com/v1`
   - 无需更改代码，程序会自动适配

3. **故障排除**：
   - 若出现"Model Not Exist"错误，程序现在会自动尝试使用DeepSeek支持的模型
   - 如果仍有问题，请确保您的DeepSeek API密钥有效
   - DeepSeek API可能有调用频率限制，请适当控制使用频率

## 行业洞察报告结构

选项4（仅行业洞察）现在会生成包含以下章节的报告：

1. **{行业}产业概况与历史发展**：介绍行业定义、发展历程和当前状况
2. **政策与法规支持**：分析相关政策环境和法规框架
3. **市场规模与增长趋势**：探讨市场现状和未来预测
4. **技术趋势与创新**：研究关键技术发展方向和创新点
5. **行业案例与实践**：分析成功应用案例和最佳实践
6. **PEST分析**：从政治、经济、社会、技术四个维度分析
7. **未来展望与建议**：对发展前景进行预测并提出建议

## 注意事项

- 如果没有设置API密钥，程序会使用备用内容生成机制
- 在有API密钥的情况下，报告质量会大幅提升
- 建议设置至少一个API密钥（DeepSeek或OpenAI）以获得最佳体验 