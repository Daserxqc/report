# Braveæœç´¢APIé›†æˆæŒ‡å—

## æ¦‚è¿°

Braveæœç´¢APIæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æœç´¢å¼•æ“APIï¼Œæä¾›ä¸ä¾èµ–Googleçš„æœç´¢ç»“æœã€‚æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•å°†Brave Web Search APIé›†æˆåˆ°æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿä¸­ï¼Œä¸ºæ‚¨çš„åº”ç”¨æä¾›å¤šæ ·åŒ–çš„æœç´¢æ¸ é“ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ ¸å¿ƒæœç´¢åŠŸèƒ½
- **ç½‘ç»œæœç´¢**: å…¨é¢çš„ç½‘ç»œå†…å®¹æœç´¢
- **æ–°é—»æœç´¢**: æœ€æ–°æ–°é—»å’Œèµ„è®¯è·å–
- **ç ”ç©¶å†…å®¹æœç´¢**: å­¦æœ¯å’Œä¸“ä¸šå†…å®¹æ£€ç´¢
- **è¡Œä¸šæ´å¯Ÿæœç´¢**: è¡Œä¸šè¶‹åŠ¿å’Œå¸‚åœºåˆ†æ
- **æœ¬åœ°æœç´¢**: åŸºäºåœ°ç†ä½ç½®çš„æœ¬åœ°ä¿¡æ¯æœç´¢

### ğŸš€ é«˜çº§ç‰¹æ€§
- **æ—¶é—´è¿‡æ»¤**: æ”¯æŒå¤šç§æ—¶é—´èŒƒå›´ï¼ˆå¤©ã€å‘¨ã€æœˆã€å¹´ï¼‰
- **è¯­è¨€æ”¯æŒ**: å¤šè¯­è¨€æœç´¢ï¼ˆä¸­æ–‡ã€è‹±æ–‡ç­‰ï¼‰
- **å®‰å…¨æœç´¢**: å†…å®¹è¿‡æ»¤çº§åˆ«æ§åˆ¶
- **åœ°ç†å®šä½**: æ”¯æŒåœ°ç†ä½ç½®ç›¸å…³æœç´¢
- **ç«™ç‚¹é™åˆ¶**: åœ¨ç‰¹å®šç½‘ç«™å†…æœç´¢
- **ç»“æœå»é‡**: è‡ªåŠ¨å¤„ç†é‡å¤å†…å®¹

### ğŸŒŸ ç‹¬ç‰¹ä¼˜åŠ¿
- **ç‹¬ç«‹æœç´¢å¼•æ“**: ä¸ä¾èµ–Googleï¼Œæä¾›å¤šæ ·åŒ–è§†è§’
- **éšç§ä¿æŠ¤**: Braveæ³¨é‡ç”¨æˆ·éšç§ä¿æŠ¤
- **å¿«é€Ÿå“åº”**: ä¼˜åŒ–çš„APIæ€§èƒ½
- **ä¸°å¯Œå…ƒæ•°æ®**: è¯¦ç»†çš„æœç´¢ç»“æœä¿¡æ¯

## å®‰è£…å’Œé…ç½®

### 1. è·å–Braveæœç´¢APIå¯†é’¥

#### æ­¥éª¤1: è®¿é—®Braveæœç´¢APIå®˜ç½‘
1. è®¿é—® [Brave Search API](https://brave.com/search/api/)
2. ç‚¹å‡» "Get Started" å¼€å§‹æ³¨å†Œ

#### æ­¥éª¤2: åˆ›å»ºè´¦æˆ·å¹¶è®¢é˜…
1. æ³¨å†ŒBraveè´¦æˆ·
2. é€‰æ‹©é€‚åˆçš„è®¢é˜…è®¡åˆ’ï¼š
   - **å…è´¹å±‚**: æ¯æœˆ2,000æ¬¡å…è´¹æœç´¢
   - **åŸºç¡€å±‚**: æ¯æœˆæ›´å¤šæœç´¢æ¬¡æ•°
   - **ä¸“ä¸šå±‚**: é«˜çº§åŠŸèƒ½å’Œæ›´é«˜é…é¢

#### æ­¥éª¤3: è·å–APIå¯†é’¥
1. åœ¨æ§åˆ¶å°ä¸­åˆ›å»ºæ–°çš„APIå¯†é’¥
2. å¤åˆ¶ç”Ÿæˆçš„APIå¯†é’¥ï¼ˆæ ¼å¼ç±»ä¼¼ï¼šBSA4bcKQe6t46PvsVgwVmTNSSvynmbIï¼‰

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨æ‚¨çš„ `.env` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```bash
# Braveæœç´¢APIé…ç½®
BRAVE_SEARCH_API_KEY=æ‚¨çš„Braveæœç´¢APIå¯†é’¥
```

### 3. éªŒè¯é…ç½®

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®ï¼š

```bash
python example_google_search_integration.py
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```python
from collectors.brave_search_collector import BraveSearchCollector

# åˆå§‹åŒ–æ”¶é›†å™¨
brave_collector = BraveSearchCollector()

# åŸºæœ¬æœç´¢
results = brave_collector.search("äººå·¥æ™ºèƒ½", count=10)

# æ‰“å°ç»“æœ
for result in results:
    print(f"æ ‡é¢˜: {result['title']}")
    print(f"å†…å®¹: {result['content'][:100]}...")
    print(f"æ¥æº: {result['source']}")
    print(f"é“¾æ¥: {result['url']}")
    print("-" * 50)
```

### æ–°é—»æœç´¢

```python
# æœç´¢æœ€æ–°æ–°é—»
news_results = brave_collector.search_news("åŒºå—é“¾æŠ€æœ¯", days_back=7, max_results=5)

print(f"æ‰¾åˆ° {len(news_results)} æ¡æ–°é—»")
for news in news_results:
    print(f"æ–°é—»: {news['title']}")
    print(f"æ¥æº: {news['source']}")
    print(f"æ—¶é—´: {news.get('published_date', 'æœªçŸ¥')}")
```

### ç ”ç©¶å†…å®¹æœç´¢

```python
# æœç´¢ç ”ç©¶å†…å®¹
research_results = brave_collector.search_research_content("æœºå™¨å­¦ä¹ ", days_back=30, max_results=5)

print(f"æ‰¾åˆ° {len(research_results)} æ¡ç ”ç©¶å†…å®¹")
for research in research_results:
    print(f"ç ”ç©¶: {research['title']}")
    print(f"æ¥æº: {research['source']}")
```

### è¡Œä¸šæ´å¯Ÿæœç´¢

```python
# æœç´¢è¡Œä¸šæ´å¯Ÿ
insight_results = brave_collector.search_industry_insights("ç”µåŠ¨æ±½è½¦", days_back=90, max_results=5)

print(f"æ‰¾åˆ° {len(insight_results)} æ¡è¡Œä¸šæ´å¯Ÿ")
for insight in insight_results:
    print(f"æ´å¯Ÿ: {insight['title']}")
    print(f"æ¥æº: {insight['source']}")
```

### æœ¬åœ°æœç´¢

```python
# æœ¬åœ°æœç´¢
local_results = brave_collector.local_search("äººå·¥æ™ºèƒ½å…¬å¸", location="åŒ—äº¬", count=5)

print(f"æ‰¾åˆ° {len(local_results)} ä¸ªæœ¬åœ°ç»“æœ")
for local in local_results:
    print(f"å…¬å¸: {local['title']}")
    print(f"åœ°å€: {local.get('address', 'æœªçŸ¥åœ°å€')}")
    print(f"ç”µè¯: {local.get('phone', 'æœªçŸ¥ç”µè¯')}")
```

### ç»¼åˆæœç´¢

```python
# ä¸€æ¬¡æ€§è·å–æ‰€æœ‰ç±»å‹çš„å†…å®¹
comprehensive_results = brave_collector.get_comprehensive_research("5GæŠ€æœ¯", days_back=7)

print(f"æ€»ç»“æœæ•°: {comprehensive_results['total_count']}")
print(f"æ–°é—»: {len(comprehensive_results['news'])} æ¡")
print(f"ç ”ç©¶: {len(comprehensive_results['research'])} æ¡")
print(f"è¡Œä¸šæ´å¯Ÿ: {len(comprehensive_results['industry_insights'])} æ¡")
print(f"é€šç”¨: {len(comprehensive_results['general'])} æ¡")
```

### é«˜çº§æœç´¢é€‰é¡¹

```python
# é«˜çº§æœç´¢å‚æ•°
advanced_results = brave_collector.search(
    query="äººå·¥æ™ºèƒ½",
    count=15,
    freshness='pw',  # è¿‡å»ä¸€å‘¨
    country='CN',    # ä¸­å›½
    language='zh',   # ä¸­æ–‡
    safesearch='moderate',  # é€‚ä¸­çš„å®‰å…¨æœç´¢
    location_data={
        'latitude': 39.9042,    # åŒ—äº¬çº¬åº¦
        'longitude': 116.4074,  # åŒ—äº¬ç»åº¦
        'city': 'åŒ—äº¬',
        'country_code': 'CN'
    }
)
```

## APIå‚æ•°è¯´æ˜

### search()æ–¹æ³•å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|------|--------|
| query | str | æœç´¢æŸ¥è¯¢ | å¿…éœ€ |
| count | int | è¿”å›ç»“æœæ•°é‡(1-20) | 10 |
| offset | int | ç»“æœåç§»é‡ | 0 |
| freshness | str | æ—¶é—´è¿‡æ»¤('pd', 'pw', 'pm', 'py') | None |
| country | str | å›½å®¶ä»£ç ('US', 'CN'ç­‰) | None |
| language | str | è¯­è¨€ä»£ç ('en', 'zh'ç­‰) | None |
| safesearch | str | å®‰å…¨æœç´¢('off', 'moderate', 'strict') | 'moderate' |

### freshnesså‚æ•°å€¼

- **'pd'**: è¿‡å»ä¸€å¤©
- **'pw'**: è¿‡å»ä¸€å‘¨
- **'pm'**: è¿‡å»ä¸€ä¸ªæœˆ
- **'py'**: è¿‡å»ä¸€å¹´

## é›†æˆåˆ°ç°æœ‰æŠ¥å‘Šç”Ÿæˆæµç¨‹

### å¤šæœç´¢å¼•æ“é›†æˆ

```python
from collectors.brave_search_collector import BraveSearchCollector
from collectors.google_search_collector import GoogleSearchCollector
from collectors.tavily_collector import TavilyCollector

def multi_engine_search(topic):
    """å¤šæœç´¢å¼•æ“æ•´åˆæœç´¢"""
    results = {}
    
    # Braveæœç´¢
    brave_collector = BraveSearchCollector()
    if brave_collector.has_api_key:
        results['brave'] = brave_collector.get_comprehensive_research(topic)
    
    # Googleæœç´¢
    google_collector = GoogleSearchCollector()
    if google_collector.has_api_key:
        results['google'] = google_collector.get_comprehensive_research(topic)
    
    # Tavilyæœç´¢
    tavily_collector = TavilyCollector()
    if tavily_collector.has_api_key:
        results['tavily'] = tavily_collector.search(topic, max_results=10)
    
    return results
```

### æŠ¥å‘Šç”Ÿæˆå™¨å¢å¼º

```python
# åœ¨æ‚¨çš„æŠ¥å‘Šç”Ÿæˆè„šæœ¬ä¸­
from collectors.brave_search_collector import BraveSearchCollector

def enhanced_data_collection(topic):
    """å¢å¼ºçš„æ•°æ®æ”¶é›†ï¼ŒåŒ…å«Braveæœç´¢"""
    all_results = {}
    
    # Braveæœç´¢
    brave_collector = BraveSearchCollector()
    if brave_collector.has_api_key:
        brave_results = brave_collector.get_comprehensive_research(topic)
        all_results['brave'] = brave_results
        print(f"Braveæœç´¢è·å¾— {brave_results['total_count']} æ¡ç»“æœ")
    
    # åˆå¹¶å…¶ä»–æœç´¢æº...
    return all_results
```

## APIé™åˆ¶å’Œé…é¢

### é…é¢é™åˆ¶

- **å…è´¹å±‚**: æ¯æœˆ2,000æ¬¡æœç´¢è¯·æ±‚
- **ä»˜è´¹å±‚**: æ ¹æ®è®¢é˜…è®¡åˆ’æä¾›æ›´é«˜é…é¢

### é€Ÿç‡é™åˆ¶

- å»ºè®®åœ¨è¯·æ±‚é—´æ·»åŠ 100mså»¶è¿Ÿ
- é¿å…çŸ­æ—¶é—´å†…å¤§é‡å¹¶å‘è¯·æ±‚

## æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†

```python
try:
    results = brave_collector.search(query)
    if not results:
        print("æœç´¢æœªè¿”å›ç»“æœ")
except Exception as e:
    print(f"Braveæœç´¢å‡ºé”™: {e}")
    # ä½¿ç”¨å¤‡ç”¨æœç´¢æ–¹æ³•
```

### 2. ç»“æœç¼“å­˜

```python
import json
from datetime import datetime

def cache_search_results(topic, results):
    cache_data = {
        'topic': topic,
        'timestamp': datetime.now().isoformat(),
        'results': results
    }
    with open(f'brave_cache_{topic}.json', 'w', encoding='utf-8') as f:
        json.dump(cache_data, f, ensure_ascii=False, indent=2)
```

### 3. æœç´¢ä¼˜åŒ–

```python
# ä½¿ç”¨æ›´å…·ä½“çš„æœç´¢è¯
specific_query = f"{topic} 2024 æœ€æ–°å‘å±•"

# ç»„åˆå¤šä¸ªæœç´¢ç­–ç•¥
search_strategies = [
    f"{topic} æ–°é—»",
    f"{topic} research",
    f"{topic} industry report"
]
```

## ä¸å…¶ä»–æœç´¢å¼•æ“å¯¹æ¯”

| ç‰¹æ€§ | Braveæœç´¢ | Googleæœç´¢ | Tavilyæœç´¢ |
|------|-----------|------------|------------|
| ç‹¬ç«‹æ€§ | âœ… å®Œå…¨ç‹¬ç«‹ | âŒ ä¾èµ–Google | âœ… ç‹¬ç«‹ |
| éšç§ä¿æŠ¤ | âœ… å¼ºè°ƒéšç§ | âš ï¸ æ•°æ®æ”¶é›† | âœ… éšç§å‹å¥½ |
| å…è´¹é…é¢ | 2,000/æœˆ | 100/å¤© | 1,000/æœˆ |
| æœ¬åœ°æœç´¢ | âœ… æ”¯æŒ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| æ—¶é—´è¿‡æ»¤ | âœ… å¤šç§é€‰é¡¹ | âœ… æ”¯æŒ | âš ï¸ æœ‰é™æ”¯æŒ |
| è¯­è¨€æ”¯æŒ | âœ… å¤šè¯­è¨€ | âœ… å¤šè¯­è¨€ | âœ… å¤šè¯­è¨€ |

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: APIè¿”å›401é”™è¯¯**
A: æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®é…ç½®ï¼Œç¡®ä¿åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®äº†`BRAVE_SEARCH_API_KEY`

**Q: æœç´¢ç»“æœä¸ºç©º**
A: å¯èƒ½çš„åŸå› ï¼š
- æœç´¢æŸ¥è¯¢è¿‡äºå…·ä½“
- æ—¶é—´è¿‡æ»¤å‚æ•°è¿‡äºä¸¥æ ¼
- APIé…é¢å·²ç”¨å®Œ

**Q: è¶…å‡ºAPIé…é¢é™åˆ¶**
A: è§£å†³æ–¹æ¡ˆï¼š
- å‡çº§åˆ°ä»˜è´¹è®¡åˆ’
- å®æ–½æœç´¢ç»“æœç¼“å­˜
- ä¼˜åŒ–æœç´¢é¢‘ç‡

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡ºï¼š

```python
import logging

logging.basicConfig(level=logging.DEBUG)
brave_collector = BraveSearchCollector()
```

## æ€»ç»“

Braveæœç´¢APIçš„é›†æˆä¸ºæ‚¨çš„æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿå¸¦æ¥ï¼š

- âœ… **å¤šæ ·åŒ–ä¿¡æ¯æº**: ç‹¬ç«‹äºGoogleçš„æœç´¢ç»“æœ
- âœ… **éšç§ä¿æŠ¤**: æ³¨é‡ç”¨æˆ·æ•°æ®éšç§
- âœ… **å…¨é¢åŠŸèƒ½**: æ”¯æŒç½‘ç»œã€æ–°é—»ã€æœ¬åœ°ç­‰å¤šç§æœç´¢
- âœ… **æ˜“äºé›†æˆ**: ä¸ç°æœ‰ç³»ç»Ÿæ— ç¼é›†æˆ
- âœ… **æˆæœ¬æ•ˆç›Š**: æä¾›å…è´¹å±‚çº§ä¾›æµ‹è¯•ä½¿ç”¨

é€šè¿‡ç»“åˆBraveæœç´¢ä¸å…¶ä»–æœç´¢å¼•æ“ï¼ˆGoogleã€Tavilyç­‰ï¼‰ï¼Œæ‚¨å¯ä»¥è·å¾—æ›´å…¨é¢ã€æ›´å¤šæ ·åŒ–çš„æœç´¢ç»“æœï¼Œæé«˜æŠ¥å‘Šå†…å®¹çš„è´¨é‡å’Œè¦†ç›–é¢ã€‚

---

è¿è¡Œç¤ºä¾‹è„šæœ¬æŸ¥çœ‹è¯¦ç»†çš„é›†æˆæ¼”ç¤ºï¼š
```bash
python example_google_search_integration.py
``` 